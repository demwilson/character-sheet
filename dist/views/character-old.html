<div id="{{c.info.name.toLowerCase()}}" class="grid grid-pad character" ng-repeat="c in characters"><section id="{{c.info.name.toLowerCase()}}-header"><hr class="hide-on-print"><div ng-if="c.info.portrait" class="portrait push-right col-5-12 hide-on-mobile"> <img ng-src="{{c.info.portrait}}"></div><h1><b ng-bind="c.info.name"></b> &#32; <small ng-if="c.info.cr">CR&#32;{{c.info.cr}}&#32;</small> <small ng-if="c.info.mr">MR&#32;{{c.info.mr}}</small></h1><hr></section><section id="{{c.info.name.toLowerCase()}}-info"><p style="margin-top: 20px"><md c="c" ng-if="c.info.templates" md="c.info.templates">&#32;</md><md c="c" ng-if="c.info.race" md="c.info.race">&#32;</md><md c="c" ng-if="c.info.classes" md="c.info.classes">&#32;</md></p><p><md c="c" ng-if="c.info.alignment" md="c.info.alignment">&#32;</md><md c="c" ng-if="c.info.size" md="c.info.size">&#32;</md><md c="c" ng-if="c.info.type" md="c.info.type">&#32;</md></p><p> <b>Initiative</b>&#32;<roll ng-bind="pf.dice('1d20', c.info.initiative)"></roll>; <span ng-if="c.info.senses"><b>Senses</b>&#32;<md c="c" md="c.info.senses"></md>;</span> <b>Perception</b>&#32;<roll ng-bind="c.perception.roll()"></roll></p><p ng-if="c.info.auras"> <b>Auras</b>&#32;<md c="c" md="c.info.aura"></md></p><hr></section><section id="{{c.info.name.toLowerCase()}}-defense" ng-if="c.defense"><p> <b>AC</b> {{c.defense.ac.total()}}, <b>touch</b> {{c.defense.ac.touch()}}, <b>flat-footed</b> {{c.defense.ac.flatfooted()}} ({{c.defense.ac.toString()}})</p><p> <b>CMD</b> {{c.defense.cmd.total()}}, <b>flat-footed</b> {{c.defense.cmd.flatfooted()}} ({{c.defense.cmd.toString()}})</p><p> <b>HP</b> {{c.info.hp}} (<md c="c" md="c.info.hd"></md>)<span ng-if="c.info.hpSpecials">;&#32;</span><md c="c" md="c.info.hpSpecials"></md></p><p> <b>Fortitude</b>&#32;<roll ng-bind="c.defense.fort.roll()"></roll>; <b>Reflex</b>&#32;<roll ng-bind="c.defense.refl.roll()"></roll>; <b>Will</b>&#32;<roll ng-bind="c.defense.will.roll()"></roll> <span ng-if="c.defense.saveSpecial">;&#32;<md c="c" md="c.defense.saveSpecial"></md></span></p><p> <span ng-if="c.defense.dr"><b>DR</b><md c="c" md="c.defense.dr"></md><span ng-if="c.defense.immune || c.defense.resist || c.defense.sr">;&#32;</span></span> <span ng-if="c.defense.immune"><b>Immune</b>&#32;<md c="c" md="c.defense.immune"></md> <span ng-if="c.defense.resist || c.defense.sr">;&#32;</span></span> <span ng-if="c.defense.resist"><b>Resist</b>&#32;<md c="c" md="c.defense.resist"></md> <span ng-if="c.defense.sr">;&#32;</span></span> <span ng-if="c.defense.sr"><b>SR</b>&#32;<md c="c" md="c.defense.sr"></md></span></p><p ng-if="c.defense.special"> <b>Special</b>&#32;<md c="c" ng-repeat="def in c.defense.special" md="def"><span ng-if="!$last">,&#32;</span></md></p><hr></section><section id="{{c.info.name.toLowerCase()}}-offense" ng-if="c.offense"><p ng-repeat="(type, attacks) in c.offense.attacks"> <b>{{type.toProperCase()}}</b> <span ng-repeat="attack in attacks | orderBy:'name'"><span ng-if="attack.quantity">{{attack.quantity}}&#32;</span><md ng-if="!attack.hideName" md="attack.name">&#32;</md><roll>{{attack.getToHitRolls()}}</roll> <small ng-if="attack.dc">(DC&#32;<md c='c' md="attack.dc"></md>)&#32;</small><roll ng-if="attack.damage" ng-bind="attack.damage"></roll><span ng-if="attack.special">&#32;<md md="attack.special"></md></span><span ng-if="!$last">,&#32;</span></span></p><p> <b>Base Attack Bonus</b>&#32;<roll ng-bind="pf.dice('1d20', c.stats.bab)"></roll>; <b>Combat Maneuver Bonus</b>&#32;<roll ng-bind="c.offense.cmb.rolls()[0]"></roll> <span ng-if="c.offense.cmb.special">&#32;({{c.offense.cmb.special}})</span></p><div ng-if="c.offense.spells" ng-repeat="caster in c.offense.spells | orderBy:'class'"><p> <b>{{caster.name}}</b> (CL&#32; {{caster.casterLevel.toOrdinal()}}; concentration&#32;<roll ng-bind="caster.concentration()"></roll>)</p><div ng-if="caster.spells" class="spells"><table><tr ng-repeat="level in caster.spells.level"><td>{{level.name}}</td><td>DC {{level.dc}}</td><td><span ng-repeat="spell in level | spellsFilter track by $index"><md md="spell"></md><span ng-if="!$last">,&#32;</span></span></td></tr></table></div><div ng-if="caster.markdown" class="spells"><md c="c" md="caster.markdown"></md></div></div><p> <b>Speed</b> {{c.offense.speed}}; <b>Space</b> {{c.offense.space}}; <b>Reach</b> {{c.offense.reach}}</p><hr></section><section id="{{c.info.name.toLowerCase()}}-stats"><p> <span ng-repeat="ability in c.stats.scores | orderAbilityScores"><b>{{ability.name}}</b> {{ability.getTotal()}}&#32;<roll ng-bind="ability.getRoll()"></roll><span ng-if="!$last">,&#32;</span></span></p><p ng-if="c.hasTrainedSkills()"> <b>Trained Skills</b>&#32;<span class="block" ng-repeat="skill in c.skills | filterSkills:'trained' | orderObjectBy:'name'"><i ng-class="skill.icon()"></i> {{skill.name}}&#32;<roll ng-bind="skill.roll()"></roll><span ng-if="!$last">,&#32;</span></span></p><p ng-if="c.hasUntrainedSkills()"> <b>Untrained Skills</b>&#32;<span class="block" ng-repeat="skill in c.skills | filterSkills | orderObjectBy:'name'"><i ng-class="skill.icon()"></i> {{skill.name}}&#32;<roll ng-bind="skill.roll()"></roll><span ng-if="!$last">,&#32;</span></span></p><p ng-if="c.feats"> <b>Feats</b>&#32;<md c="c" ng-repeat="feat in c.feats" md="feat"><span ng-if="!$last">,&#32;</span></md><span></span></p><p ng-if="c.traits"> <b>Traits</b>&#32;<md c="c" ng-repeat="trait in c.traits" md="trait"><span ng-if="!$last">,&#32;</span></md></p><p ng-if="c.info.languages"> <b>Languages</b>&#32;<md c="c" ng-repeat="lang in c.info.languages" md="lang"><span ng-if="!$last">,&#32;</span></md></p><hr></section><section id="{{c.info.name.toLowerCase()}}-specials" ng-if="c.specials"><md ng-if="special.lacks('@')" c="c" ng-repeat="special in c.specials | orderBy:'toString()'" md="special"></md><hr></section><section id="{{c.info.name.toLowerCase()}}-gear" ng-if="c.gear"><md c="c" ng-repeat="item in c.gear | orderBy:'toString()'" md="item"></md><hr></section></div>