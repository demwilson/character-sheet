<div id='{{c.id}}' class='grid grid-pad character' ng-repeat='c in characters'><section ng-if="c.bonuses && c.options.showBonuses" class='hide-on-print' id='{{c.id}}-bonuses'><hr><p><b>Temporary Bonuses</b></p><ul class='bonuses'><li ng-repeat='bonus in c.bonuses' ng-if='bonus.canToggle'> <input ng-model='bonus.active' id='{{c.id}}-bonus-{{$index}}' ng-disabled='{{bonus.locked}}' type='checkbox'/><label for='{{c.id}}-bonus-{{$index}}'><span ng-bind='bonus.name'></span></label></li></ul><hr class='bonuses-hr'></section><section id='{{c.id}}-header'><hr class="hide-on-print"><div ng-if='c.options.portrait' class='portrait push-right col-5-12 hide-on-mobile'> <img ng-src='{{c.options.portrait}}'></div><h1> <b>{{c.name}}</b> <small class='pull-right header'>{{c.difficulty}}</small></h1><hr></section><section id='{{c.id}}-info'><p><md md='c.xp' style='margin-top: 20px' pf='c.pf'></md></p><p><md md='c.infoText[0]' pf='c.pf'></md></p><p><md md='c.infoText[1]' pf='c.pf'></md></p><p> <b>Initiative</b><roll>{{c.initiative.getRoll()}}</roll>; <span ng-if='c.senses'><b>Senses</b><md md='c.senses' pf='c.pf'></md>;</span> <b>Perception</b><roll>{{c.skills.get('perception').getRoll()}}</roll></p><p ng-if='c.aura'> <b>Aura</b><md md='c.aura' pf='c.pf'></md></p><hr></section><section id='{{c.id}}-defense'><p> <b>AC</b> {{c.ac.getTotal()}}, <b>touch</b> {{c.ac.getTouch()}}, <b>flat-footed</b> {{c.ac.getFlatFooted()}} <span ng-if="c.ac.toString()">({{c.ac.toString()}})</span></p><p> <b>CMD</b> {{c.cmd.getTotal()}}, <b>flat-footed</b> {{c.cmd.getFlatFooted()}} <span ng-if="c.cmd.toString()">({{c.cmd.toString()}})</span></p><p> <span class="semi-colon"><b>HP</b> <span>{{c.hp()}}</span> <span>({{c.hd()}})</span></span> <span ng-if='c.hpSpecial'>{{c.hpSpecial}}</span></p><p> <b>Fortitude</b><span class='semi-colon'><roll ng-bind='c.saves.fortitude.getRoll()'></roll></span> <b>Reflex</b><span class='semi-colon'><roll ng-bind='c.saves.reflex.getRoll()'></roll></span> <b>Will</b><span class='semi-colon'><roll ng-bind='c.saves.will.getRoll()'></roll></span><md md='c.saves.special' pf='c.pf'></md></p><p> <span class='semi-colon' ng-if='c.dr'><b>DR</b><md md='c.dr'></md></span> <span class='semi-colon' ng-if='c.immune'><b>Immune</b><md md='c.immune'></md></span> <span class='semi-colon' ng-if='c.resist'><b>Resist</b><md md='c.resist'></md></span> <span class='semi-colon' ng-if='c.sr'><b>SR</b><md md='c.sr'></md></span></p><p ng-if='c.defensiveAbilities'> <b>Defensive Abilities</b><md md='c.defensiveAbilities' pf='c.pf'></md></p><p ng-if='c.weaknesses'> <b>Defensive Abilities</b><md md='c.weaknesses' pf='c.pf'></md></p><hr></section><section id='{{c.id}}-offense'><p ng-if='c.meleeAttacks'> <b>Melee</b> <span class='comma' ng-repeat='attack in c.meleeAttacks'><span>{{attack.name}}</span><span><roll ng-bind='attack.getToHit()'></roll></span><roll ng-if='attack.hasDamage()' ng-bind='attack.getDamage()'></roll></span></p><p ng-if='c.rangedAttacks'> <b>Ranged</b> <span class='comma' ng-repeat='attack in c.rangedAttacks'><span>{{attack.name}}</span><span><roll ng-bind='attack.getToHit()'></roll></span><roll ng-if='attack.hasDamage()' ng-bind='attack.getDamage()'></span></p><p> <b>Base Attack Bonus</b><roll ng-bind='c.bab.getToHit()'></roll>; <b>Combat Maneuver Bonus</b><roll ng-bind='c.cmb.getToHit()'></roll> <span ng-if='c.cmb.special'>({{c.cmb.special}})</span></p><div ng-if='c.spells' ng-repeat='caster in c.spells'><p> <b>{{caster.name}} {{caster.type}} Spells</b> <span>Caster Level</span><roll ng-bind='caster.getCasterLevelRoll()'></roll>; <span>Concentration</span><roll ng-bind='caster.getConcentrationRoll()'></roll>; <span>Spell Resistance</span><roll ng-bind='caster.getSpellResistanceRoll()'></roll></p><div ng-if='caster.md' class='spells'><md md='caster.md' pf='c.pf'></md></div></div><div ng-if='c.spellLikeAbilities' ng-repeat='caster in c.spellLikeAbilities'><p> <b>{{caster.name}} Spell-Like Abilities</b> <span>Caster Level</span><roll ng-bind='caster.getCasterLevelRoll'></roll>; <span>Concentration</span><roll ng-bind='caster.getConcentrationRoll.getRoll()'></roll>; <span>Spell Resistance</span><roll ng-bind='caster.getSpellResistanceRoll()'></roll></p><div ng-if='caster.md' class='spells'><md md='caster.md' pf='c.pf'></md></div></div><p> <span ng-if='c.speed' class='semi-colon'><b>Speed</b> {{c.speed}}</span> <span ng-if='c.space' class='semi-colon'><b>Space</b> {{c.space}}</span> <span ng-if='c.reach' class='semi-colon'><b>Reach</b> {{c.reach}}</span></p><hr></section><section id='{{c.id}}-stats'><p> <span class='comma' ng-repeat='score in c.abilityScores()'><b>{{score.name.slice(0,3)}}</b> <span>{{score.getTotal()}}</span><roll ng-bind='score.getRoll()'></roll></span></p><p ng-if='c.skills.trained'> <b>Trained Skills</b> <span class='comma' ng-repeat='skill in c.skills.trained'><span>{{skill.name}}</span><roll ng-bind='skill.getRoll()'></roll></span></p><p ng-if='c.skills.untrained'> <b>Untrained Skills</b> <span class='comma' ng-repeat='skill in c.skills.untrained'><span>{{skill.name}}</span><roll ng-bind='skill.getRoll()'></roll></span></p><p ng-if='c.feats'> <b>Feats</b><md md='c.feats' fn='fn'></md></p><p ng-if='c.traits'> <b>Traits</b><md md='c.traits' fn='fn'></md></p><p ng-if='c.languages'> <b>Languages</b><md md='c.languages' fn='fn'></md></p><hr></section><section id='{{c.id}}-special-qualities' ng-if='c.specialQualities'><md ng-repeat='item in c.specialQualities' md='item' pf='c.pf'></md><hr></section><section id='{{c.id}}-environment' ng-if='c.environment'><md ng-repeat='item in c.environment' md='item' pf='c.pf'></md><hr></section></section><section id='{{c.id}}-organization' ng-if='c.organization'><md ng-repeat='item in c.organization' md='item' pf='c.pf'></md><hr></section><section id='{{c.id}}-specialAbilities' ng-if='c.specialAbilities'><md ng-repeat='special in c.specialAbilities' md='special' pf='c.pf'></md><hr></section><section id='{{c.id}}-treasure' ng-if='c.treasure'><md ng-repeat='item in c.treasure' md='item' pf='c.pf'></md><hr></section></div>